{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "revenue_quality.schema.json",
  "title": "Revenue Quality Snapshot Output",
  "type": "object",
  "required": ["growth", "concentration", "recurring_mix", "seasonality", "anomalies"],
  "properties": {
    "growth": {
      "type": "object",
      "required": ["cagr", "year_breakdown"],
      "properties": {
        "cagr": {"type": ["string", "number"]},
        "year_breakdown": {
          "type": "array",
          "items": {
            "type": "object",
            "required": ["year", "revenue", "citation"],
            "properties": {
              "year": {"type": "integer"},
              "revenue": {"type": ["string", "number"]},
              "citation": {"type": "string"}
            }
          }
        }
      }
    },
    "concentration": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["customer", "percent", "citation"],
        "properties": {
          "customer": {"type": "string"},
          "percent": {"type": ["string", "number"]},
          "citation": {"type": "string"}
        }
      }
    },
    "recurring_mix": {
      "type": "object",
      "required": ["recurring_percent", "citation"],
      "properties": {
        "recurring_percent": {"type": ["string", "number"]},
        "citation": {"type": "string"}
      }
    },
    "seasonality": {"type": "array", "items": {"type": "string"}},
    "anomalies": {"type": "array", "items": {"type": "string"}}
  }
}
